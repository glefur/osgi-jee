DROP TABLE IF EXISTS STUDENTS;
 
CREATE TABLE STUDENTS (
ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1000, INCREMENT BY 1)  NOT NULL,
FIRSTNAME VARCHAR(35) NOT NULL, 
PHONENUMBER VARCHAR(14), 
BIRTHDATE DATE NOT NULL, 
LASTNAME VARCHAR(35), 
NUMBER VARCHAR(255), 
CITY VARCHAR(255), 
STREET VARCHAR(255), 
POSTALCODE VARCHAR(255), 
PRIMARY KEY (ID)
);

CREATE TABLE PICTURES (
ID BIGINT GENERATED ALWAYS AS IDENTITY NOT NULL, 
PICTURE BLOB(2147483647),
STUDENT_ID BIGINT, 
PRIMARY KEY (ID));

CREATE TABLE GRADES (
ID BIGINT GENERATED ALWAYS AS IDENTITY NOT NULL, 
DISCIPLINE INTEGER NOT NULL, 
GRADE INTEGER, 
STUDENT_ID BIGINT, 
PRIMARY KEY (ID));

CREATE TABLE BADGES (
ID BIGINT GENERATED ALWAYS AS IDENTITY NOT NULL, 
SECURITY_LEVEL INTEGER NOT NULL,
STUDENT_ID BIGINT, 
PRIMARY KEY (ID));


ALTER TABLE PICTURES ADD CONSTRAINT FK_PICTURES_STUDENT_ID FOREIGN KEY (STUDENT_ID) REFERENCES STUDENTS (ID);
ALTER TABLE GRADES ADD CONSTRAINT FK_GRADES_STUDENTS FOREIGN KEY (STUDENT_ID) REFERENCES STUDENTS (ID);
ALTER TABLE BADGES ADD CONSTRAINT FK_BADGES_STUDENTS FOREIGN KEY (STUDENT_ID) REFERENCES STUDENTS (ID);

